
<div
  [@messageAnimation]
  class="flex w-full max-w-full mb-4"
  [ngClass]="type === 'user' ? 'justify-end' : 'justify-start'"
>
  <div class="flex gap-3 max-w-[80%]" [ngClass]="type === 'user' ? 'flex-row-reverse' : 'flex-row'">
    <div 
      class="flex-shrink-0 flex items-start justify-center h-8 w-8 rounded-full"
      [ngClass]="type === 'user' ? 'bg-blue-600 text-white' : 'bg-gray-100 text-blue-600'"
    >
      <svg *ngIf="type === 'user'" xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="mt-[6px]">
        <path d="M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"></path>
        <circle cx="12" cy="7" r="4"></circle>
      </svg>
      <svg *ngIf="type === 'bot'" xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="mt-[6px]">
        <rect x="3" y="11" width="18" height="11" rx="2" ry="2"></rect>
        <path d="M11 5h2a2 2 0 0 1 2 2v4h-6V7a2 2 0 0 1 2-2z"></path>
      </svg>
    </div>
    
    <div class="flex flex-col">
      <div 
        class="px-4 py-3 rounded-xl break-words"
        [ngClass]="type === 'user' 
          ? 'bg-blue-600 text-white rounded-tr-none' 
          : 'bg-gray-100 text-gray-900 rounded-tl-none'"
      >
        <p class="text-sm">{{message}}</p>
      </div>
      <span 
        class="text-xs mt-1 text-gray-500"
        [ngClass]="type === 'user' ? 'text-right mr-1' : 'text-left ml-1'"
      >
        {{timestamp | date:'shortTime'}}
      </span>
    </div>
  </div>
</div>
